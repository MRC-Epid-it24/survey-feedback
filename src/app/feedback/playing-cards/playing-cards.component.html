<i24-loader [isVisible]="isLoading"></i24-loader>

<div class="pt-5">
  <user-demographic-info [userDemographic]="userDemographic"></user-demographic-info>
</div>

<div class="container-fluid pt-2 mb-4">
  <div class="row">
    <div class="col-lg-10 offset-lg-1">
      <h1 class="display-1 text-center mb-2">Story of your Diet</h1>
      <div class="row no-gutters">

        <div class="col-12 row hidden-md-down">

          <div class="col-4" *ngFor="let itemsInCol of getByColumns(3)">
            <feedback-playing-card
              *ngFor="let item of itemsInCol"
              [character]="item.characterType"
              [scene]="item.characterSentiment.sentimentType"
              [title]="item.characterSentiment.title"
              [descriptions]="item.getResultedDemographicTitle()"
            ></feedback-playing-card>
          </div>

        </div>

        <div class="col-12 row hidden-sm-down hidden-lg-up">

          <div class="col-6" *ngFor="let itemsInCol of getByColumns(2)">
            <feedback-playing-card
              *ngFor="let item of itemsInCol"
              [character]="item.characterType"
              [scene]="item.characterSentiment.sentimentType"
              [title]="item.characterSentiment.title"
              [descriptions]="item.getResultedDemographicTitle()"
            ></feedback-playing-card>
          </div>

        </div>

        <div class="col-12 row hidden-md-up">

          <div class="col-12" *ngFor="let itemsInCol of getByColumns(1)">
            <feedback-playing-card
              *ngFor="let item of itemsInCol"
              [character]="item.characterType"
              [scene]="item.characterSentiment.sentimentType"
              [title]="item.characterSentiment.title"
              [descriptions]="item.getResultedDemographicTitle()"
            ></feedback-playing-card>
          </div>

        </div>

      </div>


    </div>
  </div>
</div>

<div class="container-fluid pt-4 pb-4 mb-4 background-white" i24AppearOnInView>
  <div class="row">
    <div class="col-lg-10 offset-lg-1">
      <div class="row">
        <div class="col-12 row">
          <div class="col-lg-4 offset-lg-0 col-md-6 offset-md-3 col-sm-8 offset-sm-2 mb-2">
            <i24-pie-chart [data]="caloriesChartData"></i24-pie-chart>
            <h1>Highest in calories</h1>
            <ol class="chart-list">
              <li class="h5"
                  *ngFor="let f of foodHighInCalories; let i = index;"
                  [ngClass]="ColorNamesMap[i][0]">
                {{foodHighInCalories[i].localName}}:
                <strong>{{foodHighInCalories[i].getConsumption(nutrientTypeIdEnergy)}}&nbsp;kCal</strong>
              </li>
            </ol>
          </div>
          <div class="col-lg-4 offset-lg-0 col-md-6 offset-md-3 col-sm-8 offset-sm-2 mb-2">
            <i24-pie-chart [data]="sugarChartData"></i24-pie-chart>
            <h1>Highest in sugar</h1>
            <ol class="chart-list">
              <li class="h5"
                  *ngFor="let f of foodHighInSugar; let i = index;"
                  [ngClass]="ColorNamesMap[i][0]">
                {{foodHighInSugar[i].localName}}:
                <strong>{{foodHighInSugar[i].getConsumption(nutrientTypeIdSugar)}}&nbsp;g</strong>
              </li>
            </ol>
          </div>
          <div class="col-lg-4 offset-lg-0 col-md-6 offset-md-3 col-sm-8 offset-sm-2 mb-2">
            <i24-pie-chart [data]="satFatChartData"></i24-pie-chart>
            <h1>Highest in saturated fat</h1>
            <ol class="chart-list">
              <li class="h5"
                  *ngFor="let f of foodHighInSatFat; let i = index;"
                  [ngClass]="ColorNamesMap[i][0]">
                {{foodHighInSatFat[i].localName}}:
                <strong>{{foodHighInSatFat[i].getConsumption(nutrientTypeIdSatFat)}}&nbsp;g</strong>
              </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid pt-2 mb-4">
  <div class="row">
    <div class="col-lg-10 offset-lg-1">
      <h1 class="display-1 text-center mb-2">Add these to your menu</h1>
      <div class="row mb-2">
        <div class="col-md-6 col-lg-4" *ngFor="let item of diets">
          <feedback-result-list-diet-item
            [imgSrc]="item.src"
            [title]="item.title"
            [sourceOf]="item.sourceOf"
            [howMany]="item.howMany"
          ></feedback-result-list-diet-item>
        </div>
      </div>
      <div class="text-center mb-2">
        <button type="button" class="btn btn-rounded btn-rounded-yellow">
                    <span class="btn-rounded-icon">
                        <i class="fa fa-cutlery"></i>
                    </span>
          <span class="btn-rounded-text">
                        More food
                    </span>
        </button>
        <button type="button" class="btn btn-rounded btn-rounded-blue">
                    <span class="btn-rounded-icon">
                        <i class="fa fa-shopping-basket"></i>
                    </span>
          <span class="btn-rounded-text">
                        Make a shopping list
                    </span>
        </button>
        <button type="button" class="btn btn-rounded btn-rounded-green">
                    <span class="btn-rounded-icon">
                        <i class="fa fa-envelope"></i>
                    </span>
          <span class="btn-rounded-text">
                        Mail
                    </span>
        </button>
      </div>
      <div class="text-center mb-3">
                <span class="lead">
                    You can bookmark and always come back to this page later.
                </span>
      </div>
    </div>
  </div>
</div>
